digitaloceanApiTokenSecret:
  name: prod-digitalocean-dns-api-key
  key: api-token
  namespace: cert-manager

certificate:
  name: rriv-prod-org-cert
  secretName: rriv-prod-org-tls
  dnsNames:
    - rriv.org
    - '*.rriv.org'
  issuerRef:
    name: letsencrypt
    kind: ClusterIssuer

clusterIssuer:
  server: https://acme-v02.api.letsencrypt.org/directory
  email: admin@rriv.org
  privateKeySecretRef:
    name: letsencrypt-account-key
  digitalocean:
    apiTokenSecretRef:
      name: prod-digitalocean-dns-api-key
      key: api-token

externalSecret:
  name: prod-digitalocean-dns-api-key
  namespace: cert-manager
  secretStoreRef:
    name: prod-digitalocean-secret-store
    namespace: cert-manager
    kind: SecretStore
    vault:
      server: https://vault.rriv.org:8200
      path: "secret"
      version: v2
      
  data:
    secretKey: api-token
    remoteRef:
      key: secret/prod-digitalocean-dns-api-key
      property: api-token

ingress:
  secretName: rriv-prodorg-tls
  hosts:
    keycloak: auth.rriv.org
    vault: vault.rriv.org
    chirpstack: chirp.rriv.org
    chirpstackConsole: console-chirp.rriv.org
    webfinger: auth.rriv.org

ingress-nginx:
  controller:
    enabled: true
    publishService:
      enabled: true
    service:
      type: LoadBalancer
      annotations:
        service.beta.kubernetes.io/do-loadbalancer-name: "ingress-nginx-controller-prod"